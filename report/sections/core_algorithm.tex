Similar to most SLAM algorithms, an iteration of our program consists of two steps. In the first step we try to estimate the current orientation based on the camera signal, the map and the last orientation. This is then used to write the new data to the map and reconstruct the grayscale image. The iteration is performed every time an event arrives from the camera. Both the tracking and the rotation work on the assumption that the output  of the other one is correct.